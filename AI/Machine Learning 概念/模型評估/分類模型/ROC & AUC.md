## ROC 曲線
它的定義是在各種『**決策門檻**』（decision threshold）下，比較『真陽率』（True Positive Rate；TPR）與『假陽率』（False Positive Rate；FPR）間的變化。

此曲線繪製了兩個參數：

- 真陽率$$TPR = \frac{TP} {TP+FN}$$
- 偽陽率$$FPR = \frac{TP} {FP+TN}$$

## AUC
代表在ROC曲線下的面積，能表示分類器預測能力的一項常用的統計值。前面提到，ROC曲線越靠近右上方越好，因此，ROC曲線下的面積越大越好，代表模型的效益越高。

當AUC = 1時，代表分類器非常完美，但這畢竟是理想狀況。

當AUC > 0.5時，代表分類器分類效果優於隨機猜測，模型有預測價值。

當AUC = 0.5時，代表分類器分類效果與隨機猜測相同，模型無預測價值。

當AUC < 0.5時，代表分類器分類效果比隨機猜測差，但如果進行反預測，就會優於隨機猜測。
## 應用
ROC曲線可以繪製成一條曲線，如下圖，有多條ROC曲線，相互比較效能，就可使用AUC來進行評估。

![[ROC&AUC (2).png]]
	
以雷達偵測為例，信號要大於某個決策門檻（decision threshold），飛機才會出現在雷達螢幕上，假設雷達螢幕旁有一旋鈕，可以調整門檻值，如果調高一點，則雷達螢幕偵測敵機的能力變差，有些信號弱的飛機就不會顯示，反之，門檻調低一點，則雷達螢幕偵測敵機的能力變強，但是我們可能把天空中的大鳥誤認為飛機(假陽率)。因此，可以在各種門檻下計算真陽率及假陽率，作為樣本點，將所有樣本點連成一線，即ROC曲線，因此，這條線越接近上方，表示真陽率越高，即判斷正確的比率越高，換句話說，ROC曲線下方覆蓋的面積(AUC)越大，表示效能越好。以上就是ROC/AUC 曲線的精髓。
## 結語
總結出以下兩個使用 ROC 曲線的重點：

- 一條 ROC 曲線：**單一個分類器**比較不同閾值的成效
- 多條 ROC 曲線：用 AUC 比較**多個分類器**整體表現

![[ROC&AUC (1).png]]

> 這是一個理想的情況。 當兩條曲線完全不重疊時，表示模型具有理想的可分離性量測。 它完全能夠區分正類和負類。

![[ROC & AUC (3).png]]

>當兩個分佈重疊時，我們會引入類型 1 和類型 2 錯誤。 根據閾值，我們可以最小化或最大化它們。 當 AUC 為 0.7 時，表示模型有 70% 的機會能夠區分正類和負類。

![[ROC & AUC (4).png]]

> 這是最糟糕的情況。 當AUC約為0.5時，模型沒有區分正類和負類的判別能力。

![[ROC & AUC (5).png]]

>當 AUC 大約為 0 時，模型實際上是在類別之間進行交互作用。 這意味著模型將負類預測為正類，反之亦然。
## 實際例子
### 例子 1: 醫學診斷

**場景：** 某個醫學研究團隊開發了一個腫瘤檢測模型，該模型用於區分惡性和良性腫瘤。

**使用 ROC 曲線和 AUC：**

- **ROC 曲線分析：** 透過繪製ROC曲線，可以看到在不同的閾值下，模型在真陽率和假陽率之間的權衡。 左上角的點表示最佳情況，即高真陽率和低假陽率。
- **AUC 分析：** AUC提供了一個單一的數值，表示模型在整個閾值範圍內的表現。 例如，AUC為0.85，說明在各種閾值下，模型有較高的真陽率和較低的假陽率。
	
**決策：** 在醫學診斷中，可能更關注高敏感度（高真陽率），因此可以選擇模型AUC較高的。

### 例 2: 信用評分

**情境：** 銀行使用一個模型來預測客戶違約的風險，以便做出是否批准貸款的決策。

**使用 ROC 曲線和 AUC：**

- **ROC 曲線分析：** ROC曲線顯示了在不同違約機率閾值下，模型的真陽率和假陽率之間的權衡。 左上角的點表示在追求高批准率的同時，也保持較低的誤批率。
- **AUC 分析：** AUC為0.75，表示整個ROC曲線下的效能較為一致，有一定的預測能力。

**決策：** 在信用評分中，可能需要根據實際業務需求權衡核准率和誤批率。 可以選擇具有適當AUC值的模型，並根據具體情況調整閾值，以滿足風險偏好或業務要求。

綜合使用ROC曲線和AUC可以提供更全面的模型評估，但最終的決策仍需要根據具體的應用場景和業務需求進行調整。