---
Date: 2023-12-29
tags:
  - "#設計者模式"
---
## 原理
假如我們要給一家汽車公司訂製一家軟件幫助他們==複製==汽車，那我們可以先制定汽車原始模板，然後生成與這麼模板相同的複製品
## 伪代碼 and 問題
![[原型模式 Prototype 1.png|600]]

- 首先我們要有左邊的類，汽車的屬性，那我們要複製這台車，需要先初始化模板，先創一台車，給他定的參數，也就是右上方的代碼。接著我們要複製該台車，先建立相同的類，遍立並複製模板中的成員變量，這樣就有一樣的車模型
- 但並不是所有對象都能通過這種方式實現，像是擁有私有屬性、眾多的屬性，複雜的數據結構等，可能會導致複製錯誤，而且也有可能會使用到許多重複代碼，同時加上與對向的耦合度太高，一旦原始對象更改，就會需要變更所有複製代碼
## 原型模式
![[原型模式 Prototype 2.png|600]]

- 在interface中有一個方法為clone，繼承這個類的BMWCar有一個Clone方法，而原型模式就是在該內部禁行Clone，而不是外部。
## 原型管理器
### 架構
![[原型模式 Prototype 3.png|600]]
### 實例
![[原型模式 Prototype 4.png|600]]
![[原型模式 Prototype 5.png|600]]
![[原型模式 Prototype 6.png|600]]

## [Python Code](https://github.com/turingplanet/design-patterns-series/tree/main/v13_prototype/python)
## 注意事項

- 優點:
    - 提高代碼的可復用性
    - 增加系統的靈活度
    - 減少複製的時間和資源
- 缺點:
    - 增加複雜度
    - 原型複製的不一致
    - 內存使用可能會被提高
- 應用場景
    - 需要使用大量的複製
    - 複製複雜的數據結構