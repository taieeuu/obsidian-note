---
Date: 2024-08-11
---
### 聚合器微服務設計模式
聚合器調用多個微服務實現應用程序或網頁所需的功能，每個微服務都有自己的緩存和數據庫，這是一種最常用也最簡單的設計模式，圖解原理如下

![[微服務架構 1.png]]
### 代理微服務設計模式
這是**聚合器微服務設計模式**的演變模式，應用程序或網頁根據業務需求的差異而調用不同的微服務，代理可以委派 HTTP 請求，也可以進行資料轉換工作。圖解原理如下。

![[微服務架構 2.png]]
### 鍊式微服務設計模式
這種模式在接收到請求後會產生一個經過合併的回應，在這種情況下，服務A接收到請求後會與服務B進行 通訊 ，類似地，服務B會同服務C進行通訊。所有服務都使用同步訊息傳遞。在整個鍊式呼叫完成之前，客戶端會一直阻塞。因此，服務呼叫鏈不宜過長，以免客戶端長時間等待。圖解原理如下。

![[微服務架構 3.png]]
### 分支微服務設計模式
這是**聚合器微服務設計模式**的擴展模式，允許微服務之間相互調用。圖解原理如下。

![[微服務架構 4.png]]
### 資料共享微服務設計模式
部分的微服務可能會共享緩存和數據庫，即兩個或以上的微服務共用一個緩存和數據庫。這種情況只有在兩個微服務之間存在強偶合關係時才能使用，對於使用微服務實現的應用程序或網頁而言，這是一種反模式設計。圖解原理如下。

![[微服務架構 5.png]]
### 非同步訊息傳遞微服務設計模式
由於 API 接口使用同步模式，如果 API 街口執行的程序耗時過長，就會增加用戶的等待時間，因此某些微服務可以選擇使用消息對列 (異步請求) 代替 API 接口的請求和響應。圖解原理如下。

![[微服務架構 6.png]]

### 總結
微服務設計並不是唯一，具體還需要根據需求、功能和應用場景來綜合考量。對於微服務架構，架構的設計意識比技術開發更為重要。須考慮到微服住的維運、難度；系統不署依賴等等。