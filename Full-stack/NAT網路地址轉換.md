---
Date: 2024-06-02
tags:
---
網路位址轉換（NAT, Network Address Translation）是一種網路技術，用於在私有局域網（LAN）和公共廣域網（WAN）之間轉換IP位址。NAT主要用於提供一種方法讓多台設備共享單一的公共IP位址，這在IPv4環境中尤為重要，因為公共IPv4位址是有限的。

![[NAT.gif]]
### NAT的主要功能
1. **地址转换**：NAT允許多個設備使用私有IP位址（如192.168.x.x, 10.x.x.x等範圍內的位址），通過一個或多個公共IP位址與外部網絡通信。當這些設備向互聯網發送請求時，NAT設備（通常是路由器）會將來自私有網絡的內部IP位址轉換為公共IP位址。
    
2. **端口映射**：為了使從公共網絡來的數據能夠正確地轉發到私有網絡中的特定設備，NAT通常會使用端口映射技術（也稱為PAT，Port Address Translation）。這意味著NAT會記錄每個通過的連接的端口號，並將其與內部IP和端口對應起來。
### NAT的類型
- **靜態NAT**（Static NAT）：一對一映射，將內部私有IP位址直接映射到一個公共IP位址。這種方式常用於需要從外部網絡直接訪問內部網絡中某台設備的情況。
- **動態NAT**（Dynamic NAT）：將一個地址池中的公共IP位址分配給多個內部私有IP位址。當內部用戶需要訪問互聯網時，會從池中選擇一個公共IP位址。
- **端口地址轉換**（PAT，也稱為NAT過載）：多個內部IP位址通過單一公共IP位址與不同的端口號組合進行映射，從而實現多對一的連接。
### NAT的優點與缺點
**優點**：
- 節省IP位址：NAT可以大幅減少公共IP位址的需求。
- 提高安全性：由於內部網絡的IP位址不會直接暴露於互聯網上，因此增加了安全性。
**缺點**：
- NAT可能會導致某些應用層協議運行不佳，尤其是那些嚴格依賴於端到端連接的協議（如VoIP和某些P2P應用）。
- 增加了路由器的處理負擔和複雜性。
>[!note]
>私有局域網（LAN, Local Area Network）並不等於 私有IP 

### LAN（區域網路）
- 定義：LAN 是指局部地理範圍內的網路系統，如家庭、學校、辦公室或任何小範圍區域。它使得在這個範圍內的多台電腦和設備能夠互相連接和通訊。
- 特點：
	- 區域網路可以使用有線（如乙太網）或無線（如Wi-Fi）技術連接多個裝置。
	- 主要用於共享資源，如印表機、文件、應用程式等。
### 私有IP位址
- 定義：私有IP位址是在區域網路內部使用的位址，這些位址在網路上不是唯一的，也不被網路路由。這些位址專為私人或內部網路使用而保留。
- 範圍：
	- 10.0.0.0 到 10.255.255.255
	- 172.16.0.0 到 172.31.255.255
	- 192.168.0.0 到 192.168.255.255
- 特點：
	- 私有IP位址在全球不需要註冊，可在任何私有網路中自由使用。
	- 這些位址用於防止私有網路中的裝置直接暴露到網路上。