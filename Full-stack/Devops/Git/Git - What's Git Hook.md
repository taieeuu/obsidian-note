---
Date: 2024-07-17
tags:
  - devops
  - git
---
## 什麼是 Git Hooks?
Git hooks 是 Git 中的一個功能，允許你在 Git 的不同操作發生時執行自定義腳本。這些腳本可以自動執行特定的任務，如驗證代碼風格、運行測試、檢查提交訊息格式等。
## 架構
![[Drawing 2024-07-17 23.13.35.excalidraw.png]]
### 客戶端 hooks

客戶端 hooks 在本地倉庫上運行，常見的包括：

- `pre-commit`：在提交之前運行，常用來檢查程式碼品質或執行測試。
- `commit-msg`：在提交訊息編輯完成後運行，常用來檢查提交訊息格式。
- `post-commit`：在提交完成後運行，常用來通知其他系統或用戶。

### 伺服器端 hooks

伺服器端 hooks 在伺服器上運行，常見的包括：

- `pre-receive`：在伺服器接收到推送數據之前運行，常用來檢查推送內容。
- `post-receive`：在伺服器接收到推送數據之後運行，常用來觸發自動部署或持續集成系統。

### 如何設定 Git hooks

1. 在你的 Git 倉庫中找到 `.git/hooks` 目錄。
2. 這個目錄中有一些範例文件，將這些範例文件複製並重命名去掉範例後綴（例如 `pre-commit.sample` 重命名為 `pre-commit`）。
3. 編輯這些文件，加入你需要執行的腳本。