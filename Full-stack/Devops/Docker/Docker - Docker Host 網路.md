---
Date: 2024-06-02
tags:
  - docker
  - devops
---
## Host 網路
使用 `host` 網絡模式時，容器不會獲得自己的 IP 地址，而是直接使用宿主機的網絡。這意味著容器的網絡接口會直接連接到宿主機的網絡接口上。

如何使用 Host 網絡

在 Docker 中使用 `host` 網絡模式，可以在運行容器時使用 `--network host` 選項。例如：
```shell
docker run --network host -d nginx
```
>[!info]
>這條命令會啟動一個 Nginx 服務器容器，該容器直接使用宿主機的網絡。在這種模式下，如果容器內的應用綁定到了 `0.0.0.0:80`（例如一個網頁服務器），那麼它實際上是在宿主機的 80 端口上監聽。
#### Host 模式的優點
1. **性能**：由於沒有網絡虛擬化的額外開銷，`host` 模式通常可以提供更好的網絡性能。
2. **簡單性**：對於需要直接訪問宿主機網絡接口的應用，`host` 模式簡化了配置。
#### Host 模式的缺點
1. **安全性**：容器可以訪問宿主機的網絡接口，這可能會帶來安全風險。
2. **隔離性差**：在 `host` 模式下，容器與宿主機共享網絡命名空間，這降低了容器之間以及容器與宿主機之間的網絡隔離性。
3. **端口衝突**：如果多個容器試圖綁定到同一個端口，會出現衝突。在 `host` 模式下，容器必須確保其使用的端口在宿主機上沒有被其他程序使用。
### 使用場景
`host` 網絡模式適合於那些需要最大化網絡性能或需要進行複雜網絡操作的容器。例如，大型分布式應用的節點，如數據庫、大數據處理框架的節點等，可能會從 `host` 網絡模式中受益。然而，對於需要高度隔離的普通應用，使用預設的 `bridge` 模式或自定義網絡可能更安全、更合適。

總之，`host` 網絡模式提供了與宿主機完全相同的網絡環境給容器，但它犧牲了 Docker 網絡隔離的核心優勢。在使用這種模式時，需要仔細考慮其對
## None Network
我們可以從 ipconfig 設定來看
```shell
docker container exec -it box1 sh ip a
```
![[Pasted image 20240602113914.png]]

會發現他只有一個 lo 的一個本地的地址，沒有任何的地址，也就是不能對內、對外。它完全隔離容器的網路接口，意味著使用這種模式的容器不會有任何網路介面連接到外部網路或其他容器。
#### 特點和效果
- 完全隔離：容器沒有分配任何網路接口，因此，它無法與包括宿主機在內的任何網路進行通訊。
- 安全性：這種模式提供了最高等級的網路安全性，因為容器完全被隔離，無法透過網路被攻擊。
- 應用場景：適合那些不需要任何外部網路交互，只需執行內部處理任務的應用。例如，資料處理任務、批次作業等。
#### 使用場景
none 網路模式非常適合需要高度安全和隔離的環境，或對於那些不依賴網路通訊的應用。這種模式確保了容器的網路安全，並防止了任何未經授權的網路存取嘗試。
#### 缺點
- 無網路通訊：由於沒有網路接口，容器內的應用無法更新或與外界交互，這在需要下載外部資料或與其他服務互動的應用程式中可能是一個限制。
- 管理和監控限制：由於無法從網路存取容器，容器的遠端管理和監控可能會受到限制。